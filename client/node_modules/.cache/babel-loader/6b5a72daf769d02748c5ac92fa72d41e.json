{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dan\\\\OneDrive\\\\Desktop\\\\personal_projects\\\\UnWrapped2.0\\\\client\\\\src\\\\components\\\\AllCigars.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport CigarCard from './CigarCard';\nimport MyContext from '../context/MyContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AllCigars = props => {\n  _s();\n\n  const {\n    cigarList,\n    setCigarList,\n    searchTerm\n  } = props;\n  const context = useContext(MyContext);\n  useEffect(() => {\n    const getCigars = async () => {\n      try {\n        const res = await axios.get(`http://localhost:8000/api/cigars`);\n        console.log(res.data);\n        setCigarList(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getCigars();\n  }, []);\n\n  const deleteFilter = async idFromBelow => {\n    try {\n      const res2 = await axios.delete(`http://localhost:8000/api/cigars/${idFromBelow}`);\n\n      if (window.confirm(\"Are you sure you want to delete?\")) {\n        console.log(res2.data);\n        setCigarList(cigarList.filter(cigar => cigar._id !== idFromBelow));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        textAlign: 'end'\n      },\n      children: `Posts: ${cigarList.length}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        padding: '10px'\n      },\n      children: cigarList.filter(val => {\n        if (searchTerm === '') {\n          return val;\n        } else if (val.name.toLowerCase().includes(searchTerm.toLowerCase()) || val.brand.toLowerCase().includes(searchTerm.toLowerCase())) {\n          return val;\n        }\n      }).map(cigar => /*#__PURE__*/_jsxDEV(CigarCard, {\n        deleteFilter: () => deleteFilter(cigar._id),\n        id: cigar._id\n      }, cigar._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AllCigars, \"wqnYpdjMkT3eDhbBjwDmfBO/TFg=\");\n\n_c = AllCigars;\nexport default AllCigars;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllCigars\");","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","CigarCard","MyContext","AllCigars","props","cigarList","setCigarList","searchTerm","context","getCigars","res","get","console","log","data","error","deleteFilter","idFromBelow","res2","delete","window","confirm","filter","cigar","_id","err","textAlign","length","display","flexDirection","flexWrap","justifyContent","padding","val","name","toLowerCase","includes","brand","map"],"sources":["C:/Users/Dan/OneDrive/Desktop/personal_projects/UnWrapped2.0/client/src/components/AllCigars.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport CigarCard from './CigarCard'\r\nimport MyContext from '../context/MyContext'\r\n\r\n\r\nconst AllCigars = (props) => {\r\n\r\n    const { cigarList, setCigarList, searchTerm } = props\r\n    const context = useContext(MyContext)\r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        const getCigars = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/api/cigars`)\r\n                console.log(res.data)\r\n                setCigarList(res.data)\r\n                \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        getCigars()\r\n\r\n    },[])\r\n\r\n    \r\n\r\n    const deleteFilter = async (idFromBelow) => {\r\n        try {\r\n            \r\n            const res2 = await axios.delete(`http://localhost:8000/api/cigars/${idFromBelow}`)\r\n            if(window.confirm(\"Are you sure you want to delete?\")){\r\n                console.log(res2.data)\r\n                setCigarList(cigarList.filter(cigar => cigar._id !== idFromBelow))\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        \r\n        <h4 style={{textAlign: 'end'}}>{`Posts: ${cigarList.length}`}</h4>\r\n            <div style={{display:'flex', flexDirection:'row', flexWrap:'wrap', justifyContent:'center', padding:'10px'}}>\r\n\r\n                    \r\n                        \r\n            { \r\n                cigarList.filter((val)=>{\r\n                    if(searchTerm === ''){\r\n                        return val\r\n                    } else if (val.name.toLowerCase().includes(searchTerm.toLowerCase()) || val.brand.toLowerCase().includes(searchTerm.toLowerCase()) \r\n                    ){\r\n                        return val\r\n                    }\r\n                })\r\n                .map(cigar => (\r\n                    <CigarCard \r\n                    deleteFilter={()=>deleteFilter(cigar._id)}\r\n                    key={cigar._id}\r\n                    id={cigar._id}\r\n                    />\r\n                ))\r\n            }\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default AllCigars"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;;AAGA,MAAMC,SAAS,GAAIC,KAAD,IAAW;EAAA;;EAEzB,MAAM;IAAEC,SAAF;IAAaC,YAAb;IAA2BC;EAA3B,IAA0CH,KAAhD;EACA,MAAMI,OAAO,GAAGX,UAAU,CAACK,SAAD,CAA1B;EAIAJ,SAAS,CAAC,MAAM;IACZ,MAAMW,SAAS,GAAG,YAAY;MAC1B,IAAI;QACA,MAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAW,kCAAX,CAAlB;QACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;QACAR,YAAY,CAACI,GAAG,CAACI,IAAL,CAAZ;MAEH,CALD,CAKE,OAAOC,KAAP,EAAc;QACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ;MACH;IACJ,CATD;;IAUAN,SAAS;EAEZ,CAbQ,EAaP,EAbO,CAAT;;EAiBA,MAAMO,YAAY,GAAG,MAAOC,WAAP,IAAuB;IACxC,IAAI;MAEA,MAAMC,IAAI,GAAG,MAAMlB,KAAK,CAACmB,MAAN,CAAc,oCAAmCF,WAAY,EAA7D,CAAnB;;MACA,IAAGG,MAAM,CAACC,OAAP,CAAe,kCAAf,CAAH,EAAsD;QAClDT,OAAO,CAACC,GAAR,CAAYK,IAAI,CAACJ,IAAjB;QACAR,YAAY,CAACD,SAAS,CAACiB,MAAV,CAAiBC,KAAK,IAAIA,KAAK,CAACC,GAAN,KAAcP,WAAxC,CAAD,CAAZ;MACH;IACJ,CAPD,CAOE,OAAOQ,GAAP,EAAY;MACVb,OAAO,CAACC,GAAR,CAAYY,GAAZ;IACH;EACJ,CAXD;;EAaA,oBACI;IAAA,wBAEA;MAAI,KAAK,EAAE;QAACC,SAAS,EAAE;MAAZ,CAAX;MAAA,UAAiC,UAASrB,SAAS,CAACsB,MAAO;IAA3D;MAAA;MAAA;MAAA;IAAA,QAFA,eAGI;MAAK,KAAK,EAAE;QAACC,OAAO,EAAC,MAAT;QAAiBC,aAAa,EAAC,KAA/B;QAAsCC,QAAQ,EAAC,MAA/C;QAAuDC,cAAc,EAAC,QAAtE;QAAgFC,OAAO,EAAC;MAAxF,CAAZ;MAAA,UAKI3B,SAAS,CAACiB,MAAV,CAAkBW,GAAD,IAAO;QACpB,IAAG1B,UAAU,KAAK,EAAlB,EAAqB;UACjB,OAAO0B,GAAP;QACH,CAFD,MAEO,IAAIA,GAAG,CAACC,IAAJ,CAASC,WAAT,GAAuBC,QAAvB,CAAgC7B,UAAU,CAAC4B,WAAX,EAAhC,KAA6DF,GAAG,CAACI,KAAJ,CAAUF,WAAV,GAAwBC,QAAxB,CAAiC7B,UAAU,CAAC4B,WAAX,EAAjC,CAAjE,EACN;UACG,OAAOF,GAAP;QACH;MACJ,CAPD,EAQCK,GARD,CAQKf,KAAK,iBACN,QAAC,SAAD;QACA,YAAY,EAAE,MAAIP,YAAY,CAACO,KAAK,CAACC,GAAP,CAD9B;QAGA,EAAE,EAAED,KAAK,CAACC;MAHV,GAEKD,KAAK,CAACC,GAFX;QAAA;QAAA;QAAA;MAAA,QATJ;IALJ;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAgCH,CArED;;GAAMrB,S;;KAAAA,S;AAuEN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}